#ifndef VARIABLES_H
#define VARIABLES_H

#include "h.engine"

/* External variable storage */
extern Variable *variables;
extern int var_count;

/* Variable management functions */
int find_variable(const char *name);
void set_variable_value(const char *name, VarType type, void *value);
void* get_variable_value(const char *name, VarType *type);

/* Variable creation helpers */
void create_buffer_variable(const char *name, int size);
void update_buffer_variable(const char *name, const char *new_content);
void create_float_variable(const char *name, float value);
void create_file_variable(const char *name, FILE *file);
void create_bool_variable(const char *name, bool value);
void create_time_variable(const char *name, time_t time);

/* Array manipulation functions */
void create_array_variable(const char *name, int size);
void set_array_element(const char *name, int index, int value);
int get_array_element(const char *name, int index);

/* Variable cleanup and management */
void cleanup_variable(int index);
void cleanup_all_variables(void);
int get_variable_count(void);

/* Variable access functions */
Variable* get_variable_by_index(int index);
Variable* get_variables_array(void);
int* get_var_count_ptr(void);

/* Variable type utilities */
const char* get_variable_type_name(VarType type);
void print_variable_info(const char *name);

/* Builtin function wrappers for OakScript */
int variable_builtin_block(void);
int variable_builtin_array(void);
int variable_builtin_bytes(void);
int variable_builtin_reference(void);
int variable_builtin_array_set(void);
int variable_builtin_array_get(void);
int variable_builtin_create_buffer(void);
int variable_builtin_update_buffer(void);
int variable_builtin_time(void);
int variable_builtin_print_info(void);

#endif /* VARIABLES_H */
